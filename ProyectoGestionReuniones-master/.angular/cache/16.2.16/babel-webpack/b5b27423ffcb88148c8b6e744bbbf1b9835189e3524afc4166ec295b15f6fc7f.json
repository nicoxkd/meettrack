{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/services/modal.service\";\nimport * as i2 from \"./services/notificaciones.service\";\nimport * as i3 from \"@angular/common\";\nfunction NotificacionesProfesorComponent_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function NotificacionesProfesorComponent_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.clearAllNotifications());\n    });\n    i0.ɵɵtext(1, \"Limpiar todo\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificacionesProfesorComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \"Cargando notificaciones...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificacionesProfesorComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1, \"No tienes notificaciones pendientes. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificacionesProfesorComponent_div_12__svg_svg_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 21);\n    i0.ɵɵelement(1, \"path\", 22);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificacionesProfesorComponent_div_12__svg_svg_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 21);\n    i0.ɵɵelement(1, \"path\", 23);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificacionesProfesorComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 13);\n    i0.ɵɵtemplate(2, NotificacionesProfesorComponent_div_12__svg_svg_2_Template, 2, 0, \"svg\", 14);\n    i0.ɵɵtemplate(3, NotificacionesProfesorComponent_div_12__svg_svg_3_Template, 2, 0, \"svg\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 15)(5, \"p\", 16);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 17);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function NotificacionesProfesorComponent_div_12_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const notification_r6 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.deleteNotification(notification_r6.id));\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(11, \"svg\", 19);\n    i0.ɵɵelement(12, \"path\", 20);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const notification_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"accepted\", notification_r6.tipo === \"accepted\")(\"cancelled\", notification_r6.tipo === \"cancelled\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", notification_r6.tipo === \"accepted\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", notification_r6.tipo === \"cancelled\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(notification_r6.mensaje);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 8, notification_r6.fecha, \"dd/MM/yyyy HH:mm\"));\n  }\n}\nexport class NotificacionesProfesorComponent {\n  constructor(modalService, notificacionesService) {\n    this.modalService = modalService;\n    this.notificacionesService = notificacionesService;\n    this.notifications = [];\n    this.loading = true;\n    this.dniProfesor = '';\n  }\n  ngOnInit() {\n    this.dniProfesor = localStorage.getItem('dni') || '';\n    if (this.dniProfesor) {\n      this.loadNotifications();\n    }\n  }\n  loadNotifications() {\n    this.loading = true;\n    this.notificacionesService.getNotificaciones(this.dniProfesor).subscribe({\n      next: data => {\n        this.notifications = data;\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error al cargar notificaciones', err);\n        this.loading = false;\n      }\n    });\n  }\n  deleteNotification(notificationId) {\n    this.notificacionesService.eliminarNotificacion(notificationId).subscribe({\n      next: () => {\n        this.notifications = this.notifications.filter(n => n.id !== notificationId);\n      },\n      error: err => {\n        console.error('Error al eliminar notificación', err);\n        this.modalService.alert('Error', 'No se pudo eliminar la notificación.');\n      }\n    });\n  }\n  clearAllNotifications() {\n    if (this.notifications.length === 0) return;\n    this.modalService.confirm('Eliminar Notificaciones', '¿Estás seguro de que quieres eliminar todas las notificaciones?', 'Eliminar Todas').then(confirmed => {\n      if (confirmed) {\n        this.notificacionesService.limpiarNotificaciones(this.dniProfesor).subscribe({\n          next: () => {\n            this.notifications = [];\n          },\n          error: err => {\n            console.error('Error al limpiar notificaciones', err);\n            this.modalService.alert('Error', 'No se pudieron eliminar las notificaciones.');\n          }\n        });\n      }\n    });\n  }\n  static {\n    this.ɵfac = function NotificacionesProfesorComponent_Factory(t) {\n      return new (t || NotificacionesProfesorComponent)(i0.ɵɵdirectiveInject(i1.ModalService), i0.ɵɵdirectiveInject(i2.NotificacionesService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NotificacionesProfesorComponent,\n      selectors: [[\"app-notificaciones-profesor\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 13,\n      vars: 4,\n      consts: [[1, \"notifications-container\"], [1, \"notifications-header\"], [1, \"bell-icon\"], [\"width\", \"50\", \"height\", \"50\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", \"xmlns\", \"http://www.w3.org/2000/svg\"], [\"d\", \"M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22Z\", \"fill\", \"#FFA726\"], [\"d\", \"M18 16V11C18 7.93 16.37 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.64 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z\", \"fill\", \"#FFA726\"], [\"class\", \"clear-all-btn\", 3, \"click\", 4, \"ngIf\"], [1, \"notifications-list\"], [\"class\", \"notification-status\", 4, \"ngIf\"], [\"class\", \"notification-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"clear-all-btn\", 3, \"click\"], [1, \"notification-status\"], [1, \"notification-item\"], [1, \"notification-icon\"], [\"width\", \"30\", \"height\", \"30\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\", 4, \"ngIf\"], [1, \"notification-text\"], [1, \"notif-message\"], [1, \"notif-date\"], [1, \"delete-btn\", 3, \"click\"], [\"width\", \"20\", \"height\", \"20\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\"], [\"d\", \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\", \"fill\", \"#ff4d4f\"], [\"width\", \"30\", \"height\", \"30\", \"viewBox\", \"0 0 24 24\", \"fill\", \"none\"], [\"d\", \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\", \"fill\", \"#4CAF50\"], [\"d\", \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\", \"fill\", \"#999\"]],\n      template: function NotificacionesProfesorComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵnamespaceSVG();\n          i0.ɵɵelementStart(3, \"svg\", 3);\n          i0.ɵɵelement(4, \"path\", 4)(5, \"path\", 5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵnamespaceHTML();\n          i0.ɵɵelementStart(6, \"h1\");\n          i0.ɵɵtext(7, \"Notificaciones:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, NotificacionesProfesorComponent_button_8_Template, 2, 0, \"button\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 7);\n          i0.ɵɵtemplate(10, NotificacionesProfesorComponent_div_10_Template, 2, 0, \"div\", 8);\n          i0.ɵɵtemplate(11, NotificacionesProfesorComponent_div_11_Template, 2, 0, \"div\", 8);\n          i0.ɵɵtemplate(12, NotificacionesProfesorComponent_div_12_Template, 13, 11, \"div\", 9);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.notifications.length > 0);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.notifications.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.notifications);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, i3.DatePipe],\n      styles: [\".notifications-container[_ngcontent-%COMP%] {\\n  max-width: 900px;\\n  margin: 0 auto;\\n  padding: 40px 20px;\\n}\\n\\n.notifications-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  gap: 20px;\\n  margin-bottom: 40px;\\n}\\n\\n.bell-icon[_ngcontent-%COMP%] {\\n  width: 50px;\\n  height: 50px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.notifications-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  color: #333;\\n  margin: 0;\\n}\\n\\n.notifications-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 20px;\\n}\\n\\n.notification-item[_ngcontent-%COMP%] {\\n  background-color: #e0e0e0;\\n  border: 2px solid #333;\\n  border-radius: 8px;\\n  padding: 20px;\\n  display: flex;\\n  align-items: center;\\n  gap: 20px;\\n  transition: 0.3s;\\n}\\n\\n.notification-item[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n}\\n\\n.notification-icon[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 5px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-shrink: 0;\\n}\\n\\n.notification-icon.accepted[_ngcontent-%COMP%] {\\n  background-color: #C8E6C9;\\n  border: 2px solid #4CAF50;\\n}\\n\\n.notification-icon.cancelled[_ngcontent-%COMP%] {\\n  background-color: #F5F5F5;\\n  border: 2px solid #999;\\n}\\n\\n.notification-text[_ngcontent-%COMP%] {\\n  flex: 1;\\n  font-size: 1rem;\\n  color: #333;\\n  line-height: 1.5;\\n  font-weight: 500;\\n}\\n\\n@media (max-width: 768px) {\\n  .notifications-header[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n    align-items: flex-start;\\n    gap: 10px;\\n  }\\n  .notifications-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n    font-size: 1.5rem;\\n  }\\n  .notification-item[_ngcontent-%COMP%] {\\n    padding: 15px;\\n    gap: 15px;\\n  }\\n  .notification-icon[_ngcontent-%COMP%] {\\n    width: 35px;\\n    height: 35px;\\n  }\\n  .notification-text[_ngcontent-%COMP%] {\\n    font-size: 0.9rem;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvbm90aWZpY2FjaW9uZXMtcHJvZmVzb3Ivbm90aWZpY2FjaW9uZXMtcHJvZmVzb3IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLGNBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsU0FBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFNBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLFNBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxTQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLHdDQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxjQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxPQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRTtJQUNFLHNCQUFBO0lBQ0EsdUJBQUE7SUFDQSxTQUFBO0VBQ0Y7RUFFQTtJQUNFLGlCQUFBO0VBQUY7RUFHQTtJQUNFLGFBQUE7SUFDQSxTQUFBO0VBREY7RUFJQTtJQUNFLFdBQUE7SUFDQSxZQUFBO0VBRkY7RUFLQTtJQUNFLGlCQUFBO0VBSEY7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5ub3RpZmljYXRpb25zLWNvbnRhaW5lciB7XG4gIG1heC13aWR0aDogOTAwcHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBwYWRkaW5nOiA0MHB4IDIwcHg7XG59XG5cbi5ub3RpZmljYXRpb25zLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogNDBweDtcbn1cblxuLmJlbGwtaWNvbiB7XG4gIHdpZHRoOiA1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4ubm90aWZpY2F0aW9ucy1oZWFkZXIgaDEge1xuICBmb250LXNpemU6IDJyZW07XG4gIGNvbG9yOiAjMzMzO1xuICBtYXJnaW46IDA7XG59XG5cbi5ub3RpZmljYXRpb25zLWxpc3Qge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDIwcHg7XG59XG5cbi5ub3RpZmljYXRpb24taXRlbSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlMGUwZTA7XG4gIGJvcmRlcjogMnB4IHNvbGlkICMzMzM7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgcGFkZGluZzogMjBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAyMHB4O1xuICB0cmFuc2l0aW9uOiAwLjNzO1xufVxuXG4ubm90aWZpY2F0aW9uLWl0ZW06aG92ZXIge1xuICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLDAsMCwwLjEpO1xufVxuXG4ubm90aWZpY2F0aW9uLWljb24ge1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBmbGV4LXNocmluazogMDtcbn1cblxuLm5vdGlmaWNhdGlvbi1pY29uLmFjY2VwdGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0M4RTZDOTtcbiAgYm9yZGVyOiAycHggc29saWQgIzRDQUY1MDtcbn1cblxuLm5vdGlmaWNhdGlvbi1pY29uLmNhbmNlbGxlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGNUY1RjU7XG4gIGJvcmRlcjogMnB4IHNvbGlkICM5OTk7XG59XG5cbi5ub3RpZmljYXRpb24tdGV4dCB7XG4gIGZsZXg6IDE7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgY29sb3I6ICMzMzM7XG4gIGxpbmUtaGVpZ2h0OiAxLjU7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAubm90aWZpY2F0aW9ucy1oZWFkZXIge1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgZ2FwOiAxMHB4O1xuICB9XG5cbiAgLm5vdGlmaWNhdGlvbnMtaGVhZGVyIGgxIHtcbiAgICBmb250LXNpemU6IDEuNXJlbTtcbiAgfVxuXG4gIC5ub3RpZmljYXRpb24taXRlbSB7XG4gICAgcGFkZGluZzogMTVweDtcbiAgICBnYXA6IDE1cHg7XG4gIH1cblxuICAubm90aWZpY2F0aW9uLWljb24ge1xuICAgIHdpZHRoOiAzNXB4O1xuICAgIGhlaWdodDogMzVweDtcbiAgfVxuXG4gIC5ub3RpZmljYXRpb24tdGV4dCB7XG4gICAgZm9udC1zaXplOiAwLjlyZW07XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","i0","ɵɵelementStart","ɵɵlistener","NotificacionesProfesorComponent_button_8_Template_button_click_0_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","clearAllNotifications","ɵɵtext","ɵɵelementEnd","ɵɵnamespaceSVG","ɵɵelement","ɵɵtemplate","NotificacionesProfesorComponent_div_12__svg_svg_2_Template","NotificacionesProfesorComponent_div_12__svg_svg_3_Template","NotificacionesProfesorComponent_div_12_Template_button_click_10_listener","restoredCtx","_r10","notification_r6","$implicit","ctx_r9","deleteNotification","id","ɵɵadvance","ɵɵclassProp","tipo","ɵɵproperty","ɵɵtextInterpolate","mensaje","ɵɵpipeBind2","fecha","NotificacionesProfesorComponent","constructor","modalService","notificacionesService","notifications","loading","dniProfesor","ngOnInit","localStorage","getItem","loadNotifications","getNotificaciones","subscribe","next","data","error","err","console","notificationId","eliminarNotificacion","filter","n","alert","length","confirm","then","confirmed","limpiarNotificaciones","ɵɵdirectiveInject","i1","ModalService","i2","NotificacionesService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","NotificacionesProfesorComponent_Template","rf","ctx","ɵɵnamespaceHTML","NotificacionesProfesorComponent_button_8_Template","NotificacionesProfesorComponent_div_10_Template","NotificacionesProfesorComponent_div_11_Template","NotificacionesProfesorComponent_div_12_Template","i3","NgForOf","NgIf","DatePipe","styles"],"sources":["C:\\Users\\nicoc\\Downloads\\meetracks\\meettrack\\ProyectoGestionReuniones-master\\src\\app\\features\\notificaciones-profesor\\notificaciones-profesor.component.ts","C:\\Users\\nicoc\\Downloads\\meetracks\\meettrack\\ProyectoGestionReuniones-master\\src\\app\\features\\notificaciones-profesor\\notificaciones-profesor.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ModalService } from '../../shared/services/modal.service';\nimport { NotificacionesService } from './services/notificaciones.service';\n\ninterface Notification {\n  id: number;\n  tipo: 'accepted' | 'cancelled';\n  mensaje: string;\n  fecha: Date;\n}\n\n@Component({\n  selector: 'app-notificaciones-profesor',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './notificaciones-profesor.component.html',\n  styleUrls: ['./notificaciones-profesor.component.scss']\n})\nexport class NotificacionesProfesorComponent implements OnInit {\n  notifications: Notification[] = [];\n  loading: boolean = true;\n  dniProfesor: string = '';\n\n  constructor(\n    private modalService: ModalService,\n    private notificacionesService: NotificacionesService\n  ) { }\n\n  ngOnInit(): void {\n    this.dniProfesor = localStorage.getItem('dni') || '';\n    if (this.dniProfesor) {\n      this.loadNotifications();\n    }\n  }\n\n  loadNotifications(): void {\n    this.loading = true;\n    this.notificacionesService.getNotificaciones(this.dniProfesor).subscribe({\n      next: (data) => {\n        this.notifications = data;\n        this.loading = false;\n      },\n      error: (err) => {\n        console.error('Error al cargar notificaciones', err);\n        this.loading = false;\n      }\n    });\n  }\n\n  deleteNotification(notificationId: number): void {\n    this.notificacionesService.eliminarNotificacion(notificationId).subscribe({\n      next: () => {\n        this.notifications = this.notifications.filter(n => n.id !== notificationId);\n      },\n      error: (err) => {\n        console.error('Error al eliminar notificación', err);\n        this.modalService.alert('Error', 'No se pudo eliminar la notificación.');\n      }\n    });\n  }\n\n  clearAllNotifications(): void {\n    if (this.notifications.length === 0) return;\n\n    this.modalService.confirm(\n      'Eliminar Notificaciones',\n      '¿Estás seguro de que quieres eliminar todas las notificaciones?',\n      'Eliminar Todas'\n    ).then(confirmed => {\n      if (confirmed) {\n        this.notificacionesService.limpiarNotificaciones(this.dniProfesor).subscribe({\n          next: () => {\n            this.notifications = [];\n          },\n          error: (err) => {\n            console.error('Error al limpiar notificaciones', err);\n            this.modalService.alert('Error', 'No se pudieron eliminar las notificaciones.');\n          }\n        });\n      }\n    });\n  }\n}","<div class=\"notifications-container\">\n  <div class=\"notifications-header\">\n    <div class=\"bell-icon\">\n      <svg width=\"50\" height=\"50\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12 22C13.1 22 14 21.1 14 20H10C10 21.1 10.9 22 12 22Z\" fill=\"#FFA726\" />\n        <path\n          d=\"M18 16V11C18 7.93 16.37 5.36 13.5 4.68V4C13.5 3.17 12.83 2.5 12 2.5C11.17 2.5 10.5 3.17 10.5 4V4.68C7.64 5.36 6 7.92 6 11V16L4 18V19H20V18L18 16Z\"\n          fill=\"#FFA726\" />\n      </svg>\n    </div>\n    <h1>Notificaciones:</h1>\n    <button *ngIf=\"notifications.length > 0\" class=\"clear-all-btn\" (click)=\"clearAllNotifications()\">Limpiar\n      todo</button>\n  </div>\n\n  <div class=\"notifications-list\">\n    <div *ngIf=\"loading\" class=\"notification-status\">Cargando notificaciones...</div>\n    <div *ngIf=\"!loading && notifications.length === 0\" class=\"notification-status\">No tienes notificaciones pendientes.\n    </div>\n\n    <div class=\"notification-item\" *ngFor=\"let notification of notifications\">\n      <div class=\"notification-icon\" [class.accepted]=\"notification.tipo === 'accepted'\"\n        [class.cancelled]=\"notification.tipo === 'cancelled'\">\n        <svg *ngIf=\"notification.tipo === 'accepted'\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <path d=\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z\" fill=\"#4CAF50\" />\n        </svg>\n        <svg *ngIf=\"notification.tipo === 'cancelled'\" width=\"30\" height=\"30\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <path\n            d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n            fill=\"#999\" />\n        </svg>\n      </div>\n      <div class=\"notification-text\">\n        <p class=\"notif-message\">{{ notification.mensaje }}</p>\n        <span class=\"notif-date\">{{ notification.fecha | date:'dd/MM/yyyy HH:mm' }}</span>\n      </div>\n      <button class=\"delete-btn\" (click)=\"deleteNotification(notification.id)\">\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\">\n          <path d=\"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\" fill=\"#ff4d4f\" />\n        </svg>\n      </button>\n    </div>\n  </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}