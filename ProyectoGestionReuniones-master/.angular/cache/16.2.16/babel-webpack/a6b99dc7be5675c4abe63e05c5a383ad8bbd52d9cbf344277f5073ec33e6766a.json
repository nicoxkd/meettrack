{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../reuniones/views/services/reuniones.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction ProximasReunionesProfesorComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Cargando reuniones...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProximasReunionesProfesorComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"No hay reuniones programadas actualmente.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProximasReunionesProfesorComponent_div_7_button_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ProximasReunionesProfesorComponent_div_7_button_12_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const meeting_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.rellenarActa(meeting_r3));\n    });\n    i0.ɵɵtext(1, \" Acceder y rellenar acta \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProximasReunionesProfesorComponent_div_7_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵtext(1, \" Pr\\u00F3ximamente \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProximasReunionesProfesorComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"p\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 10)(7, \"p\", 11);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 12);\n    i0.ɵɵtext(10, \"AL\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 13);\n    i0.ɵɵtemplate(12, ProximasReunionesProfesorComponent_div_7_button_12_Template, 2, 0, \"button\", 14);\n    i0.ɵɵtemplate(13, ProximasReunionesProfesorComponent_div_7_button_13_Template, 2, 0, \"button\", 15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const meeting_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", meeting_r3.displayDate, \" \", meeting_r3.time, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(meeting_r3.subject);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(meeting_r3.studentName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", meeting_r3.canFillActa);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !meeting_r3.canFillActa);\n  }\n}\nexport class ProximasReunionesProfesorComponent {\n  constructor(reunionesService, router) {\n    this.reunionesService = reunionesService;\n    this.router = router;\n    this.meetings = [];\n    this.loading = true;\n  }\n  ngOnInit() {\n    const dni = localStorage.getItem('dni');\n    if (dni) {\n      this.cargarReuniones(dni);\n    }\n  }\n  cargarReuniones(dni) {\n    this.reunionesService.getReunionesProfesor(dni).subscribe({\n      next: data => {\n        const now = new Date();\n        this.meetings = data.map(m => {\n          // Intentar calcular si la reunión ya pasó\n          // La fecha viene como \"2026-01-31\" y la hora como \"11:00 - 11:55\"\n          // Usamos la hora de inicio para comparar\n          const horaInicio = m.hora.split(' - ')[0];\n          const [horas, minutos] = horaInicio.split(':');\n          const fechaReunion = new Date(m.fecha);\n          fechaReunion.setHours(parseInt(horas), parseInt(minutos), 0);\n          return {\n            id_reunion: m.id_reunion,\n            id_alumno: m.dni_alumno,\n            date: m.fecha,\n            displayDate: new Date(m.fecha).toLocaleDateString('es-ES', {\n              day: '2-digit',\n              month: 'long'\n            }),\n            time: m.hora,\n            subject: 'Proyecto Intermodular',\n            studentName: `${m.nombre_alumno} ${m.apellidos_alumno}`,\n            canFillActa: now > fechaReunion\n          };\n        });\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error al cargar próximas reuniones', err);\n        this.loading = false;\n      }\n    });\n  }\n  rellenarActa(meeting) {\n    this.router.navigate(['/rellenar-acta'], {\n      queryParams: {\n        dniAlumno: meeting.id_alumno,\n        nombreAlumno: meeting.studentName,\n        fecha: meeting.displayDate,\n        hora: meeting.time\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ProximasReunionesProfesorComponent_Factory(t) {\n      return new (t || ProximasReunionesProfesorComponent)(i0.ɵɵdirectiveInject(i1.ReunionesService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProximasReunionesProfesorComponent,\n      selectors: [[\"app-proximas-reuniones-profesor\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 8,\n      vars: 3,\n      consts: [[1, \"main-content\"], [1, \"container\"], [1, \"section-title\"], [1, \"meetings-list\"], [4, \"ngIf\"], [\"class\", \"meeting-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"meeting-row\"], [1, \"info-block\", \"main-info\"], [1, \"date-text\"], [1, \"subject-text\"], [1, \"info-block\", \"teacher-info\"], [1, \"teacher-name\"], [1, \"initials\"], [1, \"action-block\"], [\"class\", \"btn btn-green\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-gray\", \"disabled\", \"\", 4, \"ngIf\"], [1, \"btn\", \"btn-green\", 3, \"click\"], [\"disabled\", \"\", 1, \"btn\", \"btn-gray\"]],\n      template: function ProximasReunionesProfesorComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n          i0.ɵɵtext(3, \"Pr\\u00F3ximas reuniones\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵtemplate(5, ProximasReunionesProfesorComponent_div_5_Template, 2, 0, \"div\", 4);\n          i0.ɵɵtemplate(6, ProximasReunionesProfesorComponent_div_6_Template, 2, 0, \"div\", 4);\n          i0.ɵɵtemplate(7, ProximasReunionesProfesorComponent_div_7_Template, 14, 6, \"div\", 5);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.meetings.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.meetings);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, FormsModule],\n      styles: [\"@charset \\\"UTF-8\\\";\\n[_nghost-%COMP%] {\\n  display: block;\\n  width: 100%;\\n}\\n\\n.main-content[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  justify-content: center;\\n  padding: 20px;\\n}\\n\\n.container[_ngcontent-%COMP%] {\\n  width: 100%;\\n  max-width: 1200px;\\n  \\n\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-start;\\n}\\n\\n.section-title[_ngcontent-%COMP%] {\\n  width: 100%; \\n\\n  font-family: Arial, sans-serif;\\n  font-size: 24px;\\n  font-weight: bold;\\n  margin-bottom: 20px;\\n  text-align: left;\\n  color: #000;\\n  text-align: center;\\n}\\n\\n.meetings-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 15px;\\n  width: 100%; \\n\\n}\\n\\n.meeting-row[_ngcontent-%COMP%] {\\n  display: grid;\\n  \\n\\n  grid-template-columns: 1.2fr 1fr 0.8fr;\\n  align-items: center;\\n  background-color: #4db8ff;\\n  border: 2px solid #000;\\n  border-radius: 10px;\\n  padding: 15px 30px;\\n  color: white;\\n  box-sizing: border-box;\\n  width: 100%;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  line-height: 1.4;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .date-text[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 15px;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .subject-text[_ngcontent-%COMP%] {\\n  font-size: 17px;\\n  font-weight: 500;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .teacher-info[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .teacher-info[_ngcontent-%COMP%]   .teacher-name[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 16px;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .teacher-info[_ngcontent-%COMP%]   .initials[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 14px;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\\n  min-width: 200px;\\n  padding: 10px;\\n  border: 2px solid #000;\\n  border-radius: 8px;\\n  font-weight: bold;\\n  cursor: pointer;\\n  text-align: center;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   .btn-green[_ngcontent-%COMP%] {\\n  background-color: #4CAF50;\\n  color: black;\\n}\\n.meeting-row[_ngcontent-%COMP%]   .action-block[_ngcontent-%COMP%]   .btn-gray[_ngcontent-%COMP%] {\\n  background-color: #ccc;\\n  color: #333;\\n  cursor: not-allowed;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvcHJveGltYXMtcmV1bmlvbmVzLXByb2Zlc29yL3Byb3hpbWFzLXJldW5pb25lcy1wcm9mZXNvci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUFBaEI7RUFDRSxjQUFBO0VBQ0EsV0FBQTtBQUVGOztBQUNBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7QUFFRjs7QUFDQTtFQUNFLFdBQUE7RUFDQSxpQkFBQTtFQUNBLHNEQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7QUFFRjs7QUFDQTtFQUNFLFdBQUEsRUFBQSwyQ0FBQTtFQUNBLDhCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQUVGOztBQUNBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUEsRUFBQSx3REFBQTtBQUVGOztBQUNBO0VBQ0UsYUFBQTtFQUNBLDJEQUFBO0VBQ0Esc0NBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0EsV0FBQTtBQUVGO0FBQ0k7RUFBSSxTQUFBO0VBQVcsZ0JBQUE7QUFHbkI7QUFGSTtFQUFhLGlCQUFBO0VBQW1CLGVBQUE7QUFNcEM7QUFMSTtFQUFnQixlQUFBO0VBQWlCLGdCQUFBO0FBU3JDO0FBTkU7RUFDRSxrQkFBQTtBQVFKO0FBUEk7RUFBZ0IsaUJBQUE7RUFBbUIsZUFBQTtBQVd2QztBQVZJO0VBQVksaUJBQUE7RUFBbUIsZUFBQTtBQWNuQztBQVhFO0VBQ0UsYUFBQTtFQUNBLHlCQUFBO0FBYUo7QUFYSTtFQUNFLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtBQWFOO0FBVkk7RUFBYSx5QkFBQTtFQUEyQixZQUFBO0FBYzVDO0FBYkk7RUFBWSxzQkFBQTtFQUF3QixXQUFBO0VBQWEsbUJBQUE7QUFrQnJEIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5tYWluLWNvbnRlbnQge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG5cbi5jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LXdpZHRoOiAxMjAwcHg7XG4gIC8qIEZVRVJaQSBRVUUgRUwgVMODwo1UVUxPIFZBWUEgQVJSSUJBIFkgTEEgTElTVEEgQUJBSk8gKi9cbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgXG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OyBcbn1cblxuLnNlY3Rpb24tdGl0bGUge1xuICB3aWR0aDogMTAwJTsgLyogRWwgdMODwq10dWxvIG9jdXBhIHRvZG8gZWwgYW5jaG8gc3VwZXJpb3IgKi9cbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICBmb250LXNpemU6IDI0cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBjb2xvcjogIzAwMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ubWVldGluZ3MtbGlzdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMTVweDtcbiAgd2lkdGg6IDEwMCU7IC8qIExhcyBiYW5kYXMgYXp1bGVzIG9jdXBhcsODwqFuIHRvZG8gZWwgYW5jaG8gZGlzcG9uaWJsZSAqL1xufVxuXG4ubWVldGluZy1yb3cge1xuICBkaXNwbGF5OiBncmlkO1xuICAvKiBSZXBhcnRvIGRlIGVzcGFjaW86IDQwJSBpbmZvLCAzMCUgcHJvZmVzb3IsIDMwJSBhY2Npw4PCs24gKi9cbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxLjJmciAxZnIgMC44ZnI7IFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGRiOGZmOyBcbiAgYm9yZGVyOiAycHggc29saWQgIzAwMDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgcGFkZGluZzogMTVweCAzMHB4O1xuICBjb2xvcjogd2hpdGU7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHdpZHRoOiAxMDAlO1xuXG4gIC5pbmZvLWJsb2NrIHtcbiAgICBwIHsgbWFyZ2luOiAwOyBsaW5lLWhlaWdodDogMS40OyB9XG4gICAgLmRhdGUtdGV4dCB7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDE1cHg7IH1cbiAgICAuc3ViamVjdC10ZXh0IHsgZm9udC1zaXplOiAxN3B4OyBmb250LXdlaWdodDogNTAwOyB9XG4gIH1cblxuICAudGVhY2hlci1pbmZvIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgLnRlYWNoZXItbmFtZSB7IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDE2cHg7IH1cbiAgICAuaW5pdGlhbHMgeyBmb250LXdlaWdodDogYm9sZDsgZm9udC1zaXplOiAxNHB4OyB9XG4gIH1cblxuICAuYWN0aW9uLWJsb2NrIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XG4gICAgXG4gICAgLmJ0biB7XG4gICAgICBtaW4td2lkdGg6IDIwMHB4O1xuICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgIGJvcmRlcjogMnB4IHNvbGlkICMwMDA7XG4gICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB9XG5cbiAgICAuYnRuLWdyZWVuIHsgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDsgY29sb3I6IGJsYWNrOyB9XG4gICAgLmJ0bi1ncmF5IHsgYmFja2dyb3VuZC1jb2xvcjogI2NjYzsgY29sb3I6ICMzMzM7IGN1cnNvcjogbm90LWFsbG93ZWQ7IH1cbiAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProximasReunionesProfesorComponent_div_7_button_12_Template_button_click_0_listener","ɵɵrestoreView","_r8","meeting_r3","ɵɵnextContext","$implicit","ctx_r6","ɵɵresetView","rellenarActa","ɵɵtemplate","ProximasReunionesProfesorComponent_div_7_button_12_Template","ProximasReunionesProfesorComponent_div_7_button_13_Template","ɵɵadvance","ɵɵtextInterpolate2","displayDate","time","ɵɵtextInterpolate","subject","studentName","ɵɵproperty","canFillActa","ProximasReunionesProfesorComponent","constructor","reunionesService","router","meetings","loading","ngOnInit","dni","localStorage","getItem","cargarReuniones","getReunionesProfesor","subscribe","next","data","now","Date","map","m","horaInicio","hora","split","horas","minutos","fechaReunion","fecha","setHours","parseInt","id_reunion","id_alumno","dni_alumno","date","toLocaleDateString","day","month","nombre_alumno","apellidos_alumno","error","err","console","meeting","navigate","queryParams","dniAlumno","nombreAlumno","ɵɵdirectiveInject","i1","ReunionesService","i2","Router","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ProximasReunionesProfesorComponent_Template","rf","ctx","ProximasReunionesProfesorComponent_div_5_Template","ProximasReunionesProfesorComponent_div_6_Template","ProximasReunionesProfesorComponent_div_7_Template","length","i3","NgForOf","NgIf","styles"],"sources":["C:\\Users\\nicoc\\Downloads\\meetracks\\proyectoNuevo\\ProyectoGestionReuniones-master\\src\\app\\features\\proximas-reuniones-profesor\\proximas-reuniones-profesor.component.ts","C:\\Users\\nicoc\\Downloads\\meetracks\\proyectoNuevo\\ProyectoGestionReuniones-master\\src\\app\\features\\proximas-reuniones-profesor\\proximas-reuniones-profesor.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ReunionesService } from '../reuniones/views/services/reuniones.service';\n\ninterface Meeting {\n  id_reunion: string;\n  id_alumno: string;\n  date: string; // ISO format for logic\n  displayDate: string; // Formatted for UI\n  time: string;\n  subject: string;\n  studentName: string;\n  canFillActa: boolean;\n}\n\n@Component({\n  selector: 'app-proximas-reuniones-profesor',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: './proximas-reuniones-profesor.component.html',\n  styleUrls: ['./proximas-reuniones-profesor.component.scss']\n})\nexport class ProximasReunionesProfesorComponent implements OnInit {\n\n  meetings: Meeting[] = [];\n  loading: boolean = true;\n\n  constructor(\n    private reunionesService: ReunionesService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n    const dni = localStorage.getItem('dni');\n    if (dni) {\n      this.cargarReuniones(dni);\n    }\n  }\n\n  cargarReuniones(dni: string) {\n    this.reunionesService.getReunionesProfesor(dni).subscribe({\n      next: (data: any[]) => {\n        const now = new Date();\n\n        this.meetings = data.map(m => {\n          // Intentar calcular si la reunión ya pasó\n          // La fecha viene como \"2026-01-31\" y la hora como \"11:00 - 11:55\"\n          // Usamos la hora de inicio para comparar\n          const horaInicio = m.hora.split(' - ')[0];\n          const [horas, minutos] = horaInicio.split(':');\n          const fechaReunion = new Date(m.fecha);\n          fechaReunion.setHours(parseInt(horas), parseInt(minutos), 0);\n\n          return {\n            id_reunion: m.id_reunion,\n            id_alumno: m.dni_alumno,\n            date: m.fecha,\n            displayDate: new Date(m.fecha).toLocaleDateString('es-ES', { day: '2-digit', month: 'long' }),\n            time: m.hora,\n            subject: 'Proyecto Intermodular', // O el que venga si se mejora el modelo\n            studentName: `${m.nombre_alumno} ${m.apellidos_alumno}`,\n            canFillActa: now > fechaReunion\n          };\n        });\n        this.loading = false;\n      },\n      error: (err) => {\n        console.error('Error al cargar próximas reuniones', err);\n        this.loading = false;\n      }\n    });\n  }\n\n  rellenarActa(meeting: Meeting) {\n    this.router.navigate(['/rellenar-acta'], {\n      queryParams: {\n        dniAlumno: meeting.id_alumno,\n        nombreAlumno: meeting.studentName,\n        fecha: meeting.displayDate,\n        hora: meeting.time\n      }\n    });\n  }\n}","<main class=\"main-content\">\n  <div class=\"container\">\n    <h2 class=\"section-title\">Próximas reuniones</h2>\n\n    <div class=\"meetings-list\">\n      <div *ngIf=\"loading\">Cargando reuniones...</div>\n      <div *ngIf=\"!loading && meetings.length === 0\">No hay reuniones programadas actualmente.</div>\n\n      <div class=\"meeting-row\" *ngFor=\"let meeting of meetings\">\n\n        <div class=\"info-block main-info\">\n          <p class=\"date-text\">{{ meeting.displayDate }} {{ meeting.time }}</p>\n          <p class=\"subject-text\">{{ meeting.subject }}</p>\n        </div>\n\n        <div class=\"info-block teacher-info\">\n          <p class=\"teacher-name\">{{ meeting.studentName }}</p>\n          <p class=\"initials\">AL</p>\n        </div>\n\n        <div class=\"action-block\">\n          <button *ngIf=\"meeting.canFillActa\" class=\"btn btn-green\" (click)=\"rellenarActa(meeting)\">\n            Acceder y rellenar acta\n          </button>\n          <button *ngIf=\"!meeting.canFillActa\" class=\"btn btn-gray\" disabled>\n            Próximamente\n          </button>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</main>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}