{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../shared/services/modal.service\";\nimport * as i2 from \"../services/disponibilidad.service\";\nimport * as i3 from \"../../../reuniones/views/services/reuniones.service\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = function (a0, a1, a2, a3) {\n  return {\n    \"empty\": a0,\n    \"disabled\": a1,\n    \"available\": a2,\n    \"selected\": a3\n  };\n};\nfunction CalendarioComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵlistener(\"click\", function CalendarioComponent_div_29_Template_div_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const day_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectDay(day_r1));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const day_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(2, _c0, day_r1.empty, day_r1.disabled, !day_r1.empty && !day_r1.disabled, (ctx_r0.selectedDate == null ? null : ctx_r0.selectedDate.getDate()) === day_r1.day && !day_r1.empty && !day_r1.disabled));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", day_r1.empty ? \"\" : day_r1.day, \" \");\n  }\n}\nexport class CalendarioComponent {\n  constructor(modalService, disponibilidadService, reunionesService) {\n    this.modalService = modalService;\n    this.disponibilidadService = disponibilidadService;\n    this.reunionesService = reunionesService;\n    this.currentDate = new Date();\n    this.selectedDate = null;\n    this.selectedSlot = null;\n    // Mapa de fecha (YYYY-MM-DD) -> Array de Slots\n    this.availabilityMap = new Map();\n    this.availableSlotsForDay = [];\n    this.monthNames = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];\n    this.weekdays = ['Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb', 'Dom'];\n    this.calendarDays = [];\n  }\n  ngOnInit() {\n    this.loadAvailability();\n  }\n  loadAvailability() {\n    this.disponibilidadService.getTodasLibres().subscribe({\n      next: slots => {\n        this.availabilityMap.clear();\n        slots.forEach(slot => {\n          const dateObj = new Date(slot.fecha);\n          const dateKey = this.formatDateKey(dateObj);\n          if (!this.availabilityMap.has(dateKey)) {\n            this.availabilityMap.set(dateKey, []);\n          }\n          this.availabilityMap.get(dateKey)?.push(slot);\n        });\n        this.renderCalendar();\n      },\n      error: err => console.error('Error cargando disponibilidad', err)\n    });\n  }\n  formatDateKey(date) {\n    const year = date.getFullYear();\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const day = date.getDate().toString().padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n  prevMonth() {\n    this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n    this.renderCalendar();\n  }\n  nextMonth() {\n    this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n    this.renderCalendar();\n  }\n  renderCalendar() {\n    const year = this.currentDate.getFullYear();\n    const month = this.currentDate.getMonth();\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n    let startDay = firstDay.getDay();\n    startDay = startDay === 0 ? 6 : startDay - 1;\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    this.calendarDays = [];\n    for (let i = 0; i < startDay; i++) {\n      this.calendarDays.push({\n        day: 0,\n        disabled: false,\n        empty: true,\n        hasSlots: false\n      });\n    }\n    for (let day = 1; day <= lastDay.getDate(); day++) {\n      const currentDayDate = new Date(year, month, day);\n      const dateKey = this.formatDateKey(currentDayDate);\n      const hasSlots = this.availabilityMap.has(dateKey);\n      const disabled = currentDayDate < today && !this.isSameDay(currentDayDate, today);\n      this.calendarDays.push({\n        day,\n        disabled,\n        empty: false,\n        hasSlots\n      });\n    }\n  }\n  isSameDay(d1, d2) {\n    return d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();\n  }\n  selectDay(day) {\n    if (day.empty || day.disabled) return;\n    const year = this.currentDate.getFullYear();\n    const month = this.currentDate.getMonth();\n    this.selectedDate = new Date(year, month, day.day);\n    const dateKey = this.formatDateKey(this.selectedDate);\n    this.availableSlotsForDay = this.availabilityMap.get(dateKey) || [];\n    this.selectedSlot = null;\n  }\n  selectSlot(slot) {\n    this.selectedSlot = slot;\n  }\n  confirmMeeting() {\n    if (!this.selectedSlot) {\n      this.modalService.alert('Atención', 'Por favor, selecciona una hora para la reunión');\n      return;\n    }\n    const dniAlumno = localStorage.getItem('dni');\n    if (!dniAlumno) {\n      this.modalService.alert('Error', 'No estás identificado. Por favor, vuelve a iniciar sesión.');\n      return;\n    }\n    const datos = {\n      dni_alumno: dniAlumno,\n      id_disponibilidad: this.selectedSlot.id_disponibilidad\n    };\n    this.modalService.confirm('Confirmar reunión', `¿Confirmar reunión con ${this.selectedSlot.nombre} ${this.selectedSlot.apellidos} a las ${this.selectedSlot.hora}?`, 'Confirmar').then(confirmed => {\n      if (confirmed) {\n        this.reunionesService.crearReunion(datos).subscribe({\n          next: () => {\n            this.modalService.alert('Éxito', 'Reunión reservada con éxito');\n            this.loadAvailability();\n            this.selectedSlot = null;\n            this.availableSlotsForDay = [];\n          },\n          error: err => {\n            console.error(err);\n            this.modalService.alert('Error', 'Hubo un error al reservar la reunión.');\n          }\n        });\n      }\n    });\n  }\n  getMonthYear() {\n    return `${this.monthNames[this.currentDate.getMonth()]} ${this.currentDate.getFullYear()}`;\n  }\n  static {\n    this.ɵfac = function CalendarioComponent_Factory(t) {\n      return new (t || CalendarioComponent)(i0.ɵɵdirectiveInject(i1.ModalService), i0.ɵɵdirectiveInject(i2.DisponibilidadService), i0.ɵɵdirectiveInject(i3.ReunionesService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CalendarioComponent,\n      selectors: [[\"app-calendario\"]],\n      decls: 40,\n      vars: 1,\n      consts: [[1, \"main-content\"], [1, \"container\"], [1, \"calendar-section\"], [1, \"calendar\"], [1, \"calendar-header\"], [\"id\", \"prevMonth\", 1, \"nav-btn-cal\"], [\"id\", \"monthYear\"], [\"id\", \"nextMonth\", 1, \"nav-btn-cal\"], [1, \"calendar-weekdays\"], [1, \"weekday\"], [1, \"calendar-days\"], [\"class\", \"day\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"hours-panel\"], [1, \"hours-container\"], [1, \"hour-btn\"], [1, \"confirm-btn\"], [1, \"day\", 3, \"ngClass\", \"click\"]],\n      template: function CalendarioComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\", 0)(1, \"div\", 1)(2, \"section\", 2)(3, \"h2\");\n          i0.ɵɵtext(4, \"Ingl\\u00E9s Profesional\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"button\", 5);\n          i0.ɵɵtext(8, \"<\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"h3\", 6);\n          i0.ɵɵtext(10, \"Enero 2026\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"button\", 7);\n          i0.ɵɵtext(12, \">\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"div\", 8)(14, \"div\", 9);\n          i0.ɵɵtext(15, \"Lun\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 9);\n          i0.ɵɵtext(17, \"Mar\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"div\", 9);\n          i0.ɵɵtext(19, \"Mi\\u00E9\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"div\", 9);\n          i0.ɵɵtext(21, \"Jue\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"div\", 9);\n          i0.ɵɵtext(23, \"Vie\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"div\", 9);\n          i0.ɵɵtext(25, \"S\\u00E1b\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"div\", 9);\n          i0.ɵɵtext(27, \"Dom\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"div\", 10);\n          i0.ɵɵtemplate(29, CalendarioComponent_div_29_Template, 2, 7, \"div\", 11);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(30, \"aside\", 12)(31, \"h2\");\n          i0.ɵɵtext(32, \"Horas disponibles del profesor\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 13)(34, \"button\", 14);\n          i0.ɵɵtext(35, \"11:00 - 11:55\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"button\", 14);\n          i0.ɵɵtext(37, \"12:00 - 12:55\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(38, \"button\", 15);\n          i0.ɵɵtext(39, \"Confirmar reuni\\u00F3n\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(29);\n          i0.ɵɵproperty(\"ngForOf\", ctx.calendarDays);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgForOf],\n      styles: [\"\\n\\n*[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n}\\n\\nbody[_ngcontent-%COMP%] {\\n  font-family: Arial, sans-serif;\\n  background-color: #f5f5f5;\\n}\\n\\n\\n\\nheader[_ngcontent-%COMP%] {\\n  background-color: white;\\n  padding: 15px 20px;\\n  display: flex;\\n  align-items: center;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n  position: relative;\\n}\\n\\n.menu-toggle[_ngcontent-%COMP%] {\\n  background: none;\\n  border: none;\\n  cursor: pointer;\\n  padding: 10px;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 5px;\\n  z-index: 1001;\\n}\\n\\n.menu-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  width: 25px;\\n  height: 3px;\\n  background-color: #333;\\n  display: block;\\n  transition: 0.3s;\\n}\\n\\n.logo[_ngcontent-%COMP%] {\\n  margin-left: 20px;\\n  width: 60px;\\n  height: 60px;\\n}\\n\\n.logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nheader[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  margin-left: auto;\\n  color: #1e88e5;\\n  font-size: 1.5rem;\\n}\\n\\n\\n\\n.sidebar[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 0;\\n  left: -250px;\\n  width: 250px;\\n  height: 100vh;\\n  background-color: #2c3e50;\\n  padding: 80px 20px 20px;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 15px;\\n  transition: 0.3s;\\n  z-index: 1000;\\n  box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2);\\n}\\n\\n.sidebar.active[_ngcontent-%COMP%] {\\n  left: 0;\\n}\\n\\n.nav-btn[_ngcontent-%COMP%] {\\n  background-color: #34495e;\\n  color: white;\\n  border: none;\\n  padding: 15px;\\n  font-size: 1rem;\\n  cursor: pointer;\\n  border-radius: 5px;\\n  transition: 0.3s;\\n}\\n\\n.nav-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #1e88e5;\\n}\\n\\n\\n\\n.container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n  gap: 40px;\\n  flex-wrap: nowrap; \\n\\n  padding: 40px 20px;\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  box-sizing: border-box;\\n}\\n\\n\\n\\n.calendar-section[_ngcontent-%COMP%] {\\n  flex: 0 0 600px;\\n  min-width: 300px;\\n}\\n\\n.calendar-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 1.8rem;\\n  margin-bottom: 20px;\\n  color: #333;\\n  text-align: center;\\n}\\n\\n.calendar[_ngcontent-%COMP%] {\\n  background-color: white;\\n  padding: 20px;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n}\\n\\n.calendar-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 20px;\\n}\\n\\n.calendar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n  color: #333;\\n}\\n\\n.nav-btn-cal[_ngcontent-%COMP%] {\\n  background-color: #1e88e5;\\n  color: white;\\n  border: none;\\n  padding: 8px 15px;\\n  cursor: pointer;\\n  border-radius: 5px;\\n  font-size: 1.2rem;\\n  transition: 0.3s;\\n}\\n\\n.nav-btn-cal[_ngcontent-%COMP%]:hover {\\n  background-color: #1565c0;\\n}\\n\\n.calendar-weekdays[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(7, 1fr);\\n  gap: 5px;\\n  margin-bottom: 10px;\\n}\\n\\n.weekday[_ngcontent-%COMP%] {\\n  text-align: center;\\n  font-weight: bold;\\n  color: #666;\\n  padding: 10px 0;\\n  font-size: 0.9rem;\\n}\\n\\n.calendar-days[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(7, 1fr);\\n  gap: 5px;\\n}\\n\\n.day[_ngcontent-%COMP%] {\\n  aspect-ratio: 1;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 50%;\\n  cursor: pointer;\\n  transition: 0.3s;\\n  font-size: 0.95rem;\\n}\\n\\n.day[_ngcontent-%COMP%]:not(.disabled):not(.empty):hover {\\n  background-color: #e3f2fd;\\n}\\n\\n.day.disabled[_ngcontent-%COMP%] {\\n  color: #ccc;\\n  cursor: not-allowed;\\n}\\n\\n.day.empty[_ngcontent-%COMP%] {\\n  cursor: default;\\n}\\n\\n.day.selected[_ngcontent-%COMP%] {\\n  background-color: #666;\\n  color: white;\\n  font-weight: bold;\\n}\\n\\n.day.available[_ngcontent-%COMP%] {\\n  color: #333;\\n}\\n\\n\\n\\n.hours-panel[_ngcontent-%COMP%] {\\n  flex: 1;\\n  min-width: 250px;\\n  background-color: #d3d3d3;\\n  padding: 30px;\\n  border-radius: 8px;\\n  display: flex;\\n  flex-direction: column;\\n  gap: 20px;\\n}\\n\\n.hours-panel[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n  color: #333;\\n  text-align: center;\\n}\\n\\n.hours-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 20px;\\n}\\n\\n.hour-btn[_ngcontent-%COMP%] {\\n  background-color: #42a5f5;\\n  color: black;\\n  border: 2px solid #0d47a1;\\n  padding: 20px;\\n  font-size: 1.1rem;\\n  cursor: pointer;\\n  border-radius: 8px;\\n  transition: 0.3s;\\n  font-weight: 500;\\n}\\n\\n.hour-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #1e88e5;\\n  color: white;\\n  transform: translateY(-2px);\\n}\\n\\n.hour-btn.selected[_ngcontent-%COMP%] {\\n  background-color: #1565c0;\\n  color: white;\\n}\\n\\n.confirm-btn[_ngcontent-%COMP%] {\\n  background-color: #42a5f5;\\n  color: black;\\n  border: 2px solid #0d47a1;\\n  padding: 15px 30px;\\n  font-size: 1.1rem;\\n  cursor: pointer;\\n  border-radius: 8px;\\n  transition: 0.3s;\\n  font-weight: 600;\\n  align-self: center;\\n}\\n\\n.confirm-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #1e88e5;\\n  color: white;\\n  transform: scale(1.05);\\n}\\n\\n\\n\\n@media (max-width: 1024px) {\\n  .container[_ngcontent-%COMP%] {\\n    flex-direction: column; \\n\\n    align-items: center;\\n  }\\n  .calendar-section[_ngcontent-%COMP%], .hours-panel[_ngcontent-%COMP%] {\\n    flex: 1 1 100%;\\n    min-width: 100%;\\n  }\\n}\\n@media (max-width: 768px) {\\n  header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n    font-size: 1.2rem;\\n  }\\n  .calendar-days[_ngcontent-%COMP%] {\\n    gap: 3px;\\n  }\\n  .day[_ngcontent-%COMP%] {\\n    font-size: 0.85rem;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvY2FsZW5kYXJpby92aWV3cy9jYWxlbmRhcmlvL2NhbGVuZGFyaW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMkRBQUE7QUFDQTtFQUNFLFNBQUE7RUFDQSxVQUFBO0VBQ0Esc0JBQUE7QUFDRjs7QUFFQTtFQUNFLDhCQUFBO0VBQ0EseUJBQUE7QUFDRjs7QUFFQSxtREFBQTtBQUNBO0VBQ0UsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHdDQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsUUFBQTtFQUNBLGFBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxXQUFBO0VBQ0Esc0JBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxpQkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBLG9EQUFBO0FBQ0E7RUFDRSxlQUFBO0VBQ0EsTUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsdUJBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxTQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0Esd0NBQUE7QUFDRjs7QUFFQTtFQUNFLE9BQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtBQUNGOztBQUVBLGlFQUFBO0FBQ0E7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSwyQkFBQTtFQUNBLHVCQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBLEVBQUEseURBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsY0FBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUEsdURBQUE7QUFDQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsdUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSx3Q0FBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UsaUJBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLHFDQUFBO0VBQ0EsUUFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLHFDQUFBO0VBQ0EsUUFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtBQUNGOztBQUVBO0VBQ0Usc0JBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7QUFDRjs7QUFFQSwyREFBQTtBQUNBO0VBQ0UsT0FBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxTQUFBO0FBQ0Y7O0FBRUE7RUFDRSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsU0FBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLFlBQUE7RUFDQSwyQkFBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUEsdURBQUE7QUFDQTtFQUNFO0lBQ0Usc0JBQUEsRUFBQSxpQ0FBQTtJQUNBLG1CQUFBO0VBQ0Y7RUFFQTs7SUFFRSxjQUFBO0lBQ0EsZUFBQTtFQUFGO0FBQ0Y7QUFHQTtFQUNFO0lBQ0UsaUJBQUE7RUFERjtFQUlBO0lBQ0UsUUFBQTtFQUZGO0VBS0E7SUFDRSxrQkFBQTtFQUhGO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAtLS0tLS0tLS0tLS0tLS0tLS0tIEdMT0JBTCAvIFJFU0VUIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbioge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbmJvZHkge1xuICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0gSEVBREVSIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbmhlYWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBwYWRkaW5nOiAxNXB4IDIwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMSk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLm1lbnUtdG9nZ2xlIHtcbiAgYmFja2dyb3VuZDogbm9uZTtcbiAgYm9yZGVyOiBub25lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogNXB4O1xuICB6LWluZGV4OiAxMDAxO1xufVxuXG4ubWVudS10b2dnbGUgc3BhbiB7XG4gIHdpZHRoOiAyNXB4O1xuICBoZWlnaHQ6IDNweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcbiAgZGlzcGxheTogYmxvY2s7XG4gIHRyYW5zaXRpb246IDAuM3M7XG59XG5cbi5sb2dvIHtcbiAgbWFyZ2luLWxlZnQ6IDIwcHg7XG4gIHdpZHRoOiA2MHB4O1xuICBoZWlnaHQ6IDYwcHg7XG59XG5cbi5sb2dvIHN2ZyB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbmhlYWRlciBoMSB7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBjb2xvcjogIzFlODhlNTtcbiAgZm9udC1zaXplOiAxLjVyZW07XG59XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0gU0lERUJBUiAtLS0tLS0tLS0tLS0tLS0tLS0tICovXG4uc2lkZWJhciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAwO1xuICBsZWZ0OiAtMjUwcHg7XG4gIHdpZHRoOiAyNTBweDtcbiAgaGVpZ2h0OiAxMDB2aDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJjM2U1MDtcbiAgcGFkZGluZzogODBweCAyMHB4IDIwcHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMTVweDtcbiAgdHJhbnNpdGlvbjogMC4zcztcbiAgei1pbmRleDogMTAwMDtcbiAgYm94LXNoYWRvdzogMnB4IDAgNXB4IHJnYmEoMCwwLDAsMC4yKTtcbn1cblxuLnNpZGViYXIuYWN0aXZlIHtcbiAgbGVmdDogMDtcbn1cblxuLm5hdi1idG4ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQ0OTVlO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgcGFkZGluZzogMTVweDtcbiAgZm9udC1zaXplOiAxcmVtO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgdHJhbnNpdGlvbjogMC4zcztcbn1cblxuLm5hdi1idG46aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWU4OGU1O1xufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tIENPTlRFTkVET1IgUFJJTkNJUEFMIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xuICBnYXA6IDQwcHg7XG4gIGZsZXgtd3JhcDogbm93cmFwOyAgLyogZXZpdGEgcXVlIGNhbGVuZGFyaW8geSBwYW5lbCBzZSBhcGlsZW4gZW4gZXNjcml0b3JpbyAqL1xuICBwYWRkaW5nOiA0MHB4IDIwcHg7XG4gIG1heC13aWR0aDogMTIwMHB4O1xuICBtYXJnaW46IDAgYXV0bztcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLSBDQUxFTkRBUklPIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi5jYWxlbmRhci1zZWN0aW9uIHtcbiAgZmxleDogMCAwIDYwMHB4O1xuICBtaW4td2lkdGg6IDMwMHB4O1xufVxuXG4uY2FsZW5kYXItc2VjdGlvbiBoMiB7XG4gIGZvbnQtc2l6ZTogMS44cmVtO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBjb2xvcjogIzMzMztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uY2FsZW5kYXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLDAsMCwwLjEpO1xufVxuXG4uY2FsZW5kYXItaGVhZGVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4uY2FsZW5kYXItaGVhZGVyIGgzIHtcbiAgZm9udC1zaXplOiAxLjJyZW07XG4gIGNvbG9yOiAjMzMzO1xufVxuXG4ubmF2LWJ0bi1jYWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWU4OGU1O1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgcGFkZGluZzogOHB4IDE1cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBmb250LXNpemU6IDEuMnJlbTtcbiAgdHJhbnNpdGlvbjogMC4zcztcbn1cblxuLm5hdi1idG4tY2FsOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE1NjVjMDtcbn1cblxuLmNhbGVuZGFyLXdlZWtkYXlzIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNywgMWZyKTtcbiAgZ2FwOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG59XG5cbi53ZWVrZGF5IHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6ICM2NjY7XG4gIHBhZGRpbmc6IDEwcHggMDtcbiAgZm9udC1zaXplOiAwLjlyZW07XG59XG5cbi5jYWxlbmRhci1kYXlzIHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNywgMWZyKTtcbiAgZ2FwOiA1cHg7XG59XG5cbi5kYXkge1xuICBhc3BlY3QtcmF0aW86IDE7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogMC4zcztcbiAgZm9udC1zaXplOiAwLjk1cmVtO1xufVxuXG4uZGF5Om5vdCguZGlzYWJsZWQpOm5vdCguZW1wdHkpOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2UzZjJmZDtcbn1cblxuLmRheS5kaXNhYmxlZCB7XG4gIGNvbG9yOiAjY2NjO1xuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xufVxuXG4uZGF5LmVtcHR5IHtcbiAgY3Vyc29yOiBkZWZhdWx0O1xufVxuXG4uZGF5LnNlbGVjdGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzY2NjtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLmRheS5hdmFpbGFibGUge1xuICBjb2xvcjogIzMzMztcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLSBQQU5FTCBERSBIT1JBUyAtLS0tLS0tLS0tLS0tLS0tLS0tICovXG4uaG91cnMtcGFuZWwge1xuICBmbGV4OiAxO1xuICBtaW4td2lkdGg6IDI1MHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDNkM2QzO1xuICBwYWRkaW5nOiAzMHB4O1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGdhcDogMjBweDtcbn1cblxuLmhvdXJzLXBhbmVsIGgyIHtcbiAgZm9udC1zaXplOiAxLjVyZW07XG4gIGNvbG9yOiAjMzMzO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5ob3Vycy1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDIwcHg7XG59XG5cbi5ob3VyLWJ0biB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0MmE1ZjU7XG4gIGNvbG9yOiBibGFjaztcbiAgYm9yZGVyOiAycHggc29saWQgIzBkNDdhMTtcbiAgcGFkZGluZzogMjBweDtcbiAgZm9udC1zaXplOiAxLjFyZW07XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICB0cmFuc2l0aW9uOiAwLjNzO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uaG91ci1idG46aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWU4OGU1O1xuICBjb2xvcjogd2hpdGU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTtcbn1cblxuLmhvdXItYnRuLnNlbGVjdGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE1NjVjMDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uY29uZmlybS1idG4ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDJhNWY1O1xuICBjb2xvcjogYmxhY2s7XG4gIGJvcmRlcjogMnB4IHNvbGlkICMwZDQ3YTE7XG4gIHBhZGRpbmc6IDE1cHggMzBweDtcbiAgZm9udC1zaXplOiAxLjFyZW07XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICB0cmFuc2l0aW9uOiAwLjNzO1xuICBmb250LXdlaWdodDogNjAwO1xuICBhbGlnbi1zZWxmOiBjZW50ZXI7XG59XG5cbi5jb25maXJtLWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMxZTg4ZTU7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLSBSRVNQT05TSVZFIC0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbkBtZWRpYSAobWF4LXdpZHRoOiAxMDI0cHgpIHtcbiAgLmNvbnRhaW5lciB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgLyogYXBpbGFyIGVuIHBhbnRhbGxhcyBtZWRpYW5hcyAqL1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIH1cblxuICAuY2FsZW5kYXItc2VjdGlvbixcbiAgLmhvdXJzLXBhbmVsIHtcbiAgICBmbGV4OiAxIDEgMTAwJTtcbiAgICBtaW4td2lkdGg6IDEwMCU7XG4gIH1cbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIGhlYWRlciBoMSB7XG4gICAgZm9udC1zaXplOiAxLjJyZW07XG4gIH1cbiAgXG4gIC5jYWxlbmRhci1kYXlzIHtcbiAgICBnYXA6IDNweDtcbiAgfVxuICBcbiAgLmRheSB7XG4gICAgZm9udC1zaXplOiAwLjg1cmVtO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","CalendarioComponent_div_29_Template_div_click_0_listener","restoredCtx","ɵɵrestoreView","_r3","day_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","selectDay","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵpureFunction4","_c0","empty","disabled","ctx_r0","selectedDate","getDate","day","ɵɵadvance","ɵɵtextInterpolate1","CalendarioComponent","constructor","modalService","disponibilidadService","reunionesService","currentDate","Date","selectedSlot","availabilityMap","Map","availableSlotsForDay","monthNames","weekdays","calendarDays","ngOnInit","loadAvailability","getTodasLibres","subscribe","next","slots","clear","forEach","slot","dateObj","fecha","dateKey","formatDateKey","has","set","get","push","renderCalendar","error","err","console","date","year","getFullYear","month","getMonth","toString","padStart","prevMonth","setMonth","nextMonth","firstDay","lastDay","startDay","getDay","today","setHours","i","hasSlots","currentDayDate","isSameDay","d1","d2","selectSlot","confirmMeeting","alert","dniAlumno","localStorage","getItem","datos","dni_alumno","id_disponibilidad","confirm","nombre","apellidos","hora","then","confirmed","crearReunion","getMonthYear","ɵɵdirectiveInject","i1","ModalService","i2","DisponibilidadService","i3","ReunionesService","selectors","decls","vars","consts","template","CalendarioComponent_Template","rf","ctx","ɵɵtemplate","CalendarioComponent_div_29_Template"],"sources":["C:\\Users\\nicoc\\Downloads\\meetracks\\proyectoNuevo\\ProyectoGestionReuniones-master\\src\\app\\features\\calendario\\views\\calendario\\calendario.component.ts","C:\\Users\\nicoc\\Downloads\\meetracks\\proyectoNuevo\\ProyectoGestionReuniones-master\\src\\app\\features\\calendario\\views\\calendario\\calendario.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ModalService } from '../../../../shared/services/modal.service';\nimport { DisponibilidadService } from '../services/disponibilidad.service';\nimport { ReunionesService } from '../../../reuniones/views/services/reuniones.service';\n\ninterface Slot {\n  id_disponibilidad: string;\n  fecha: string;\n  hora: string;\n  nombre: string;\n  apellidos: string;\n}\n\n@Component({\n  selector: 'app-calendario',\n  templateUrl: './calendario.component.html',\n  styleUrls: ['./calendario.component.scss']\n})\nexport class CalendarioComponent implements OnInit {\n\n  currentDate: Date = new Date();\n  selectedDate: Date | null = null;\n  selectedSlot: Slot | null = null;\n\n  // Mapa de fecha (YYYY-MM-DD) -> Array de Slots\n  availabilityMap: Map<string, Slot[]> = new Map();\n  availableSlotsForDay: Slot[] = [];\n\n  monthNames: string[] = [\n    'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',\n    'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'\n  ];\n\n  weekdays: string[] = ['Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb', 'Dom'];\n\n  calendarDays: { day: number, disabled: boolean, empty: boolean, hasSlots: boolean }[] = [];\n\n  constructor(\n    private modalService: ModalService,\n    private disponibilidadService: DisponibilidadService,\n    private reunionesService: ReunionesService\n  ) { }\n\n  ngOnInit(): void {\n    this.loadAvailability();\n  }\n\n  loadAvailability() {\n    this.disponibilidadService.getTodasLibres().subscribe({\n      next: (slots) => {\n        this.availabilityMap.clear();\n        slots.forEach(slot => {\n          const dateObj = new Date(slot.fecha);\n          const dateKey = this.formatDateKey(dateObj);\n\n          if (!this.availabilityMap.has(dateKey)) {\n            this.availabilityMap.set(dateKey, []);\n          }\n          this.availabilityMap.get(dateKey)?.push(slot);\n        });\n        this.renderCalendar();\n      },\n      error: (err) => console.error('Error cargando disponibilidad', err)\n    });\n  }\n\n  formatDateKey(date: Date): string {\n    const year = date.getFullYear();\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\n    const day = date.getDate().toString().padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n\n  prevMonth(): void {\n    this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n    this.renderCalendar();\n  }\n\n  nextMonth(): void {\n    this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n    this.renderCalendar();\n  }\n\n  renderCalendar(): void {\n    const year = this.currentDate.getFullYear();\n    const month = this.currentDate.getMonth();\n\n    const firstDay = new Date(year, month, 1);\n    const lastDay = new Date(year, month + 1, 0);\n\n    let startDay = firstDay.getDay();\n    startDay = startDay === 0 ? 6 : startDay - 1;\n\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    this.calendarDays = [];\n\n    for (let i = 0; i < startDay; i++) {\n      this.calendarDays.push({ day: 0, disabled: false, empty: true, hasSlots: false });\n    }\n\n    for (let day = 1; day <= lastDay.getDate(); day++) {\n      const currentDayDate = new Date(year, month, day);\n      const dateKey = this.formatDateKey(currentDayDate);\n      const hasSlots = this.availabilityMap.has(dateKey);\n      const disabled = currentDayDate < today && !this.isSameDay(currentDayDate, today);\n\n      this.calendarDays.push({ day, disabled, empty: false, hasSlots });\n    }\n  }\n\n  isSameDay(d1: Date, d2: Date) {\n    return d1.getFullYear() === d2.getFullYear() &&\n      d1.getMonth() === d2.getMonth() &&\n      d1.getDate() === d2.getDate();\n  }\n\n  selectDay(day: { day: number, disabled: boolean, empty: boolean, hasSlots: boolean }): void {\n    if (day.empty || day.disabled) return;\n\n    const year = this.currentDate.getFullYear();\n    const month = this.currentDate.getMonth();\n    this.selectedDate = new Date(year, month, day.day);\n\n    const dateKey = this.formatDateKey(this.selectedDate);\n    this.availableSlotsForDay = this.availabilityMap.get(dateKey) || [];\n    this.selectedSlot = null;\n  }\n\n  selectSlot(slot: Slot): void {\n    this.selectedSlot = slot;\n  }\n\n  confirmMeeting(): void {\n    if (!this.selectedSlot) {\n      this.modalService.alert('Atención', 'Por favor, selecciona una hora para la reunión');\n      return;\n    }\n\n    const dniAlumno = localStorage.getItem('dni');\n    if (!dniAlumno) {\n      this.modalService.alert('Error', 'No estás identificado. Por favor, vuelve a iniciar sesión.');\n      return;\n    }\n\n    const datos = {\n      dni_alumno: dniAlumno,\n      id_disponibilidad: this.selectedSlot.id_disponibilidad\n    };\n\n    this.modalService.confirm(\n      'Confirmar reunión',\n      `¿Confirmar reunión con ${this.selectedSlot.nombre} ${this.selectedSlot.apellidos} a las ${this.selectedSlot.hora}?`,\n      'Confirmar'\n    ).then(confirmed => {\n      if (confirmed) {\n        this.reunionesService.crearReunion(datos).subscribe({\n          next: () => {\n            this.modalService.alert('Éxito', 'Reunión reservada con éxito');\n            this.loadAvailability();\n            this.selectedSlot = null;\n            this.availableSlotsForDay = [];\n          },\n          error: (err) => {\n            console.error(err);\n            this.modalService.alert('Error', 'Hubo un error al reservar la reunión.');\n          }\n        });\n      }\n    });\n  }\n\n  getMonthYear(): string {\n    return `${this.monthNames[this.currentDate.getMonth()]} ${this.currentDate.getFullYear()}`;\n  }\n\n}\n","<main class=\"main-content\">\n  <div class=\"container\">\n    <!-- Calendario a la izquierda -->\n    <section class=\"calendar-section\">\n      <h2>Inglés Profesional</h2>\n      <div class=\"calendar\">\n        <div class=\"calendar-header\">\n          <button class=\"nav-btn-cal\" id=\"prevMonth\">&lt;</button>\n          <h3 id=\"monthYear\">Enero 2026</h3>\n          <button class=\"nav-btn-cal\" id=\"nextMonth\">&gt;</button>\n        </div>\n        <div class=\"calendar-weekdays\">\n          <div class=\"weekday\">Lun</div>\n          <div class=\"weekday\">Mar</div>\n          <div class=\"weekday\">Mié</div>\n          <div class=\"weekday\">Jue</div>\n          <div class=\"weekday\">Vie</div>\n          <div class=\"weekday\">Sáb</div>\n          <div class=\"weekday\">Dom</div>\n        </div>\n        <div class=\"calendar-days\">\n          <div\n            class=\"day\"\n            *ngFor=\"let day of calendarDays\"\n            [ngClass]=\"{\n              'empty': day.empty,\n              'disabled': day.disabled,\n              'available': !day.empty && !day.disabled,\n              'selected': selectedDate?.getDate() === day.day && !day.empty && !day.disabled\n            }\"\n            (click)=\"selectDay(day)\"\n          >\n            {{ day.empty ? '' : day.day }}\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Panel de horas a la derecha -->\n    <aside class=\"hours-panel\">\n      <h2>Horas disponibles del profesor</h2>\n      <div class=\"hours-container\">\n        <button class=\"hour-btn\">11:00 - 11:55</button>\n        <button class=\"hour-btn\">12:00 - 12:55</button>\n      </div>\n      <button class=\"confirm-btn\">Confirmar reunión</button>\n    </aside>\n  </div>\n</main>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}